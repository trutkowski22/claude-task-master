```mermaid
graph TB
    subgraph "add-subtask.js"
        subgraph "Imports"
            addSubtask["addSubtask<br/>from G:/claude-task-master/claude-task-master/scripts/modules/task-manager.js"]
            enableSilentMode["enableSilentMode<br/>from G:/claude-task-master/claude-task-master/scripts/modules/utils.js"]
            disableSilentMode["disableSilentMode<br/>from G:/claude-task-master/claude-task-master/scripts/modules/utils.js"]
        end

        subgraph "Functions"
            addSubtaskDirect["addSubtaskDirect(args, log)<br/>Add a subtask to an existing task"]
        end

        subgraph "Parameters"
            args["args: Object<br/>- tasksJsonPath: string (explicit path to tasks.json)<br/>- id: string (parent task ID)<br/>- taskId?: string (existing task ID to convert)<br/>- title?: string (title for new subtask)<br/>- description?: string (description for new subtask)<br/>- details?: string (implementation details)<br/>- status?: string (default: 'pending')<br/>- dependencies?: string (comma-separated dependency IDs)<br/>- skipGenerate?: boolean (skip regenerating task files)<br/>- projectRoot?: string (project root directory)<br/>- tag?: string (tag for task)"]
            log["log: Object<br/>Logger object"]
        end

        subgraph "Execution Flow"
            validateInput["Validate required parameters (tasksJsonPath, id)"]
            checkTaskOrTitle["Check either taskId or title is provided"]
            parseDependencies["Parse dependencies from comma-separated string"]
            convertIds["Convert IDs to appropriate format"]
            enableSilent["Enable silent mode"]
            createContext["Create context object"]
            determinePath["Determine operation path:<br/>1. Convert existing task to subtask<br/>2. Create new subtask"]
            callCore["Call core addSubtask function"]
            restoreLogging["Restore normal logging"]
            returnResult["Return success/error result"]
        end

        subgraph "Exports"
            ExportAddSubtaskDirect["addSubtaskDirect"]
        end
    end
```